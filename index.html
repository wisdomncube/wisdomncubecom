<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wisdom Ncube | Developer & Author</title>
    <meta name="description" content="Portfolio of Wisdom Ncube - A Developer & Author bridging the gap between logic and narrative. Explore web projects, poetry, and creative works.">
    <meta name="google-site-verification" content="6LFQSUVF4gzWG1_StMV7gHpH6n-J1KpFjyJ5diQnACk" />

    <!-- Social Media Preview (Open Graph) -->
    <meta property="og:title" content="Wisdom Ncube | Developer & Author">
    <meta property="og:description" content="Developer & Author. Logic & Code. Narrative & Soul. Explore the portfolio of Wisdom Ncube.">
    <meta property="og:image" content="Screenshot 2025-12-01 203704.jpg">
    <meta property="og:type" content="website">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Wisdom Ncube | Developer & Author">
    <meta name="twitter:description" content="Developer & Author. Logic & Code. Narrative & Soul. Explore the portfolio of Wisdom Ncube.">
    <meta name="twitter:image" content="Screenshot 2025-12-01 203704.jpg">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;400;600;800&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary-dark: #0f172a;
            --primary-gold: #c5a059;
            --text-light: #e2e8f0;
            --text-dark: #1e293b;
            --bg-paper: #f9f8f4;
            --accent-blue: #3b82f6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            cursor: none; /* Hide default cursor for custom implementation */
        }

        html {
            scroll-behavior: smooth;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: var(--primary-dark);
        }
        ::-webkit-scrollbar-thumb {
            background: var(--primary-gold);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #e5c079;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--primary-dark);
            color: var(--text-light);
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* --- PRELOADER --- */
        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.8s ease-out, visibility 0.8s;
            overflow: hidden;
        }
        
        .preloader.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        /* Video Background for Preloader */
        .preloader-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
            filter: brightness(0.4); /* Darken video so text pops */
        }

        .loader-content {
            position: relative;
            z-index: 2; /* Text above video */
            text-align: center;
        }

        .loader-text {
            font-family: 'Cinzel', serif;
            font-size: 2rem;
            color: var(--primary-gold);
            letter-spacing: 5px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }

        /* Custom Cursor */
        .cursor-dot,
        .cursor-outline {
            position: fixed;
            top: 0;
            left: 0;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            z-index: 9999;
            pointer-events: none;
        }

        .cursor-dot {
            width: 5px;
            height: 5px;
            background-color: var(--primary-gold);
        }

        .cursor-outline {
            width: 30px;
            height: 30px;
            border: 1px solid var(--primary-gold);
            transition: width 0.2s, height 0.2s, background-color 0.2s;
        }

        /* Hover state for cursor */
        body.hovering .cursor-outline {
            width: 50px;
            height: 50px;
            background-color: rgba(197, 160, 89, 0.1);
            border-color: transparent;
        }

        /* Reading Progress Bar */
        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 4px;
            background: var(--primary-gold);
            z-index: 2000;
            box-shadow: 0 0 10px var(--primary-gold);
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--primary-gold);
            color: var(--primary-dark);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            text-decoration: none;
            opacity: 0;
            pointer-events: none;
            transition: 0.3s;
            z-index: 1000;
            font-size: 1.2rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            border: 2px solid transparent;
        }

        .back-to-top.visible {
            opacity: 1;
            pointer-events: all;
        }

        .back-to-top:hover {
            transform: translateY(-5px);
            background: transparent;
            color: var(--primary-gold);
            border-color: var(--primary-gold);
        }

        /* --- AI Chat Widget Styles --- */
        .chat-widget-btn {
            position: fixed;
            bottom: 30px;
            left: 30px;
            background: var(--primary-gold);
            color: var(--primary-dark);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 1001;
            box-shadow: 0 4px 20px rgba(197, 160, 89, 0.4);
            border: none;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-size: 1.5rem;
        }

        .chat-widget-btn:hover {
            transform: scale(1.1);
        }

        .chat-window {
            position: fixed;
            bottom: 100px;
            left: 30px;
            width: 350px;
            height: 500px;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(197, 160, 89, 0.3);
            border-radius: 20px;
            z-index: 1001;
            display: none;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            opacity: 0;
            transform: translateY(20px) scale(0.95);
            transition: all 0.3s ease;
        }

        .chat-window.open {
            display: flex;
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .chat-header {
            background: rgba(197, 160, 89, 0.1);
            padding: 15px;
            border-bottom: 1px solid rgba(197, 160, 89, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h4 {
            color: var(--primary-gold);
            font-size: 1rem;
            margin: 0;
        }

        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 15px;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .message.bot {
            background: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            align-self: flex-start;
            border-bottom-left-radius: 2px;
        }

        .message.user {
            background: var(--primary-gold);
            color: var(--primary-dark);
            align-self: flex-end;
            border-bottom-right-radius: 2px;
        }

        .chat-input-area {
            padding: 15px;
            background: rgba(0,0,0,0.2);
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 20px;
            color: white;
            outline: none;
            font-family: inherit;
        }

        .chat-input:focus {
            border-color: var(--primary-gold);
        }

        .chat-send {
            background: none;
            border: none;
            color: var(--primary-gold);
            cursor: pointer;
            font-size: 1.2rem;
        }

        .typing-indicator {
            font-style: italic;
            color: #666;
            font-size: 0.8rem;
            margin-bottom: 5px;
            display: none;
        }

        /* --- Specific AI Tool Styles --- */
        .ai-feature-btn {
            background: transparent;
            border: 1px solid var(--primary-gold);
            color: var(--primary-gold);
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-family: 'Montserrat', sans-serif;
            font-weight: 600;
            margin-top: 15px;
            transition: 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        .ai-feature-btn:hover {
            background: var(--primary-gold);
            color: var(--primary-dark);
            box-shadow: 0 0 15px rgba(197, 160, 89, 0.4);
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2999;
            opacity: 0;
            pointer-events: none;
            transition: 0.3s;
        }
        .modal-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .ai-tool-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            width: 90%;
            max-width: 500px;
            background: rgba(15, 23, 42, 0.98);
            border: 1px solid var(--primary-gold);
            border-radius: 15px;
            padding: 2rem;
            z-index: 3000;
            opacity: 0;
            pointer-events: none;
            transition: 0.3s ease;
            box-shadow: 0 20px 50px rgba(0,0,0,0.8);
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .ai-tool-modal.active {
            opacity: 1;
            pointer-events: all;
            transform: translate(-50%, -50%) scale(1);
        }
        .ai-tool-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--primary-gold);
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
        }
        .ai-tool-input {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            padding: 15px;
            color: white;
            border-radius: 8px;
            font-family: 'Montserrat', sans-serif;
            width: 100%;
            outline: none;
        }
        .ai-tool-input:focus {
            border-color: var(--primary-gold);
        }
        .ai-tool-result {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 8px;
            min-height: 100px;
            max-height: 200px;
            overflow-y: auto;
            border-left: 2px solid var(--primary-gold);
            font-style: italic;
            color: #ccc;
            white-space: pre-wrap;
            display: none; /* Hidden by default */
        }
        .ai-tool-result.active {
            display: block;
        }
        .ai-generate-btn {
            background: var(--primary-gold);
            color: var(--primary-dark);
            border: none;
            padding: 12px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }
        .ai-generate-btn:hover {
            background: white;
        }
        .ai-generate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Particles Canvas */
        #particle-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
            opacity: 0.6;
        }

        h1, h2, h3, h4 {
            font-family: 'Cinzel', serif;
        }

        p.poetry-text {
            font-family: 'Playfair Display', serif;
            font-style: italic;
        }

        a {
            text-decoration: none;
            color: inherit;
            transition: 0.3s;
        }

        /* --- Navigation --- */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1.5rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 800;
            letter-spacing: 2px;
            color: var(--primary-gold);
            cursor: default; /* For cipher effect */
        }

        .nav-links {
            display: flex;
            gap: 2rem;
        }

        .nav-links a {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            display: inline-block; /* Required for magnetic effect */
            transition: color 0.3s, transform 0.1s ease-out; /* Fast transform for magnetic feel */
        }

        .nav-links a:hover {
            color: var(--primary-gold);
        }

        /* Active Navigation Link Style */
        .nav-links a.active {
            color: var(--primary-gold);
        }

        .nav-links a.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--primary-gold);
            box-shadow: 0 0 5px var(--primary-gold);
        }

        .hamburger {
            display: none;
            cursor: pointer;
            font-size: 1.5rem;
        }

        /* --- Hero Section (Split) --- */
        .hero {
            height: 100vh;
            display: flex;
            position: relative;
            overflow: hidden;
            padding-top: 80px; /* Offset for nav */
        }

        .hero-side {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            transition: flex 0.5s ease, filter 0.5s ease, opacity 0.5s ease;
            overflow: hidden;
            text-decoration: none;
        }

        .hero-side::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            transition: transform 0.5s ease;
            z-index: -1;
            filter: brightness(0.4);
        }

        .hero-left::before {
            background-image: url('542761670_2909337272591741_3555716252373006385_n.jpg'); 
        }

        .hero-right::before {
            background-image: url('477301304_2683087481883389_904248693233776087_n.jpg'); 
        }

        .hero-side:hover {
            flex: 1.5;
            cursor: pointer;
        }

        .hero-side:hover::before {
            transform: scale(1.05);
            filter: brightness(0.6);
        }

        /* Hero Focus Effect Logic */
        .hero:hover .hero-side:not(:hover) {
            filter: blur(5px) grayscale(100%);
            opacity: 0.6;
        }

        .hero-content {
            text-align: center;
            z-index: 2;
            padding: 2rem;
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.1);
        }

        .hero-title {
            font-size: 3rem;
            margin-bottom: 0.5rem;
            color: white;
            transition: text-shadow 0.3s;
        }
        
        /* RGB Glitch Effect on Hover */
        .hero-side:hover .hero-title {
            text-shadow: 2px 2px 0px #ff0000, -2px -2px 0px #0000ff;
            animation: glitch-skew 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) both infinite;
        }

        @keyframes glitch-skew {
            0% { transform: skew(0deg); }
            20% { transform: skew(-2deg); }
            40% { transform: skew(2deg); }
            60% { transform: skew(-1deg); }
            80% { transform: skew(1deg); }
            100% { transform: skew(0deg); }
        }

        /* --- VIDEO-ISH: Scanlines Overlay --- */
        .scanlines {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                to bottom,
                rgba(255,255,255,0),
                rgba(255,255,255,0) 50%,
                rgba(0,0,0,0.2) 50%,
                rgba(0,0,0,0.2)
            );
            background-size: 100% 4px;
            z-index: 1;
            pointer-events: none;
            opacity: 0.6;
        }

        .hero-subtitle {
            font-size: 1.2rem;
            color: var(--primary-gold);
            text-transform: uppercase;
            letter-spacing: 3px;
            min-height: 1.6em; /* Prevent layout jump */
        }
        
        /* Typewriter Cursor Effect */
        .typewriter-cursor::after {
            content: '|';
            animation: blink 1s step-end infinite;
            color: var(--primary-gold);
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        /* --- About Section --- */
        .section {
            padding: 5rem 10%;
            position: relative;
        }

        .about {
            background: var(--bg-paper);
            color: var(--text-dark);
            text-align: center;
        }

        .about-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
            margin-top: 3rem;
            text-align: left;
        }

        .about-img img {
            width: 100%;
            max-width: 400px;
            border-radius: 5px;
            box-shadow: 20px 20px 0px var(--primary-gold);
            filter: grayscale(100%);
            transition: filter 0.5s, transform 0.1s linear; /* Changed transform to linear for parallax */
            will-change: transform;
        }

        .about-img img:hover {
            filter: grayscale(0%);
            /* Transform handled by JS parallax now */
        }

        .section-title {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--primary-dark);
            position: relative;
            display: inline-block;
        }
        
        .section-title.light {
            color: var(--text-light);
        }

        .section-title::after {
            content: '';
            display: block;
            width: 60px;
            height: 3px;
            background: var(--primary-gold);
            margin: 10px auto 0;
        }

        /* --- The Author Section (Masterpiece Focus) --- */
        .author-section {
            background: linear-gradient(rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 0.95)), url('486466151_2731197983739005_2906448294542532482_n.jpg');
            background-attachment: fixed;
            background-size: cover;
            color: white;
            /* Safe background color if image fails or on mobile */
            background-color: #0f172a; 
        }

        .book-showcase {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 4rem;
            margin-top: 4rem;
        }

        .book-3d-container {
            perspective: 1000px;
            width: 300px;
            height: 450px;
        }

        .book-cover {
            width: 100%;
            height: 100%;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            transition: transform 0.1s linear; /* Smooth for parallax */
            border-radius: 2px;
            will-change: transform;
        }
        
        /* Note: Hover tilt removed here to avoid conflict with parallax, 
            or needs to be combined in JS. Keeping simplistic for now. */

        .book-details {
            max-width: 600px;
        }

        .award-badge {
            display: inline-flex;
            align-items: center;
            background: rgba(197, 160, 89, 0.2);
            border: 1px solid var(--primary-gold);
            padding: 10px 20px;
            border-radius: 50px;
            margin-bottom: 2rem;
            color: var(--primary-gold);
        }
        
        .award-badge i {
            margin-right: 10px;
        }

        .book-quote {
            font-family: 'Playfair Display', serif;
            font-size: 1.4rem;
            font-style: italic;
            border-left: 3px solid var(--primary-gold);
            padding-left: 20px;
            margin: 20px 0;
            color: #ccc;
        }

        /* --- Press / News Gallery --- */
        .press-section {
            background: #fff;
            color: var(--text-dark);
        }

        .press-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 3rem;
        }

        .press-item {
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            cursor: pointer;
            height: 250px;
        }

        .press-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .press-overlay {
            position: absolute;
            bottom: -100%;
            left: 0;
            width: 100%;
            padding: 20px;
            background: rgba(15, 23, 42, 0.9);
            color: white;
            transition: bottom 0.3s;
        }

        .press-item:hover .press-overlay {
            bottom: 0;
        }

        .press-item:hover img {
            transform: scale(1.1);
        }

        /* --- Developer Section (Updated) --- */
        .developer-section {
            background: #0f172a;
            position: relative;
            padding-bottom: 4rem; /* Adjusted padding */
        }

        .tech-subtitle {
            text-align: center;
            color: #aaa;
            margin-bottom: 3rem;
        }

        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2.5rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* 3D Tilt Card Base */
        .project-card {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.1s ease-out, box-shadow 0.3s; /* Fast transform for smooth tilt */
            transform-style: preserve-3d;
            will-change: transform;
        }

        .project-card:hover {
            box-shadow: 0 20px 30px rgba(0,0,0,0.4);
            border-color: var(--primary-gold);
        }

        .card-header {
            background: #1e293b;
            padding: 12px 15px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .browser-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .dot-red { background: #ff5f56; }
        .dot-yellow { background: #ffbd2e; }
        .dot-green { background: #27c93f; }

        .card-address-bar {
            background: rgba(255,255,255,0.1);
            height: 10px;
            flex-grow: 1;
            margin-left: 10px;
            border-radius: 5px;
        }

        .card-body {
            padding: 2rem;
        }

        .card-title {
            color: var(--primary-gold);
            font-size: 1.4rem;
            margin-bottom: 1rem;
        }

        .card-desc {
            font-size: 0.95rem;
            color: #ccc;
            margin-bottom: 1.5rem;
            line-height: 1.7;
        }

        .tech-stack-mini {
            display: flex;
            gap: 10px;
            margin-bottom: 1.5rem;
            font-size: 0.8rem;
            color: var(--accent-blue);
        }

        /* --- Infinite Tech Scroller --- */
        .tech-scroller {
            overflow: hidden;
            white-space: nowrap;
            position: relative;
            padding: 4rem 0 2rem;
            max-width: 100%;
        }

        .tech-track {
            display: inline-block;
            animation: scroll-infinite 30s linear infinite;
        }
        
        /* Pause on hover for easier viewing */
        .tech-track:hover {
            animation-play-state: paused;
        }

        .tech-icon-item {
            display: inline-block;
            font-size: 5rem;
            color: var(--accent-blue);
            margin: 0 3rem;
            transition: color 0.3s;
        }
        
        .tech-icon-item:hover {
            color: var(--primary-gold);
        }

        @keyframes scroll-infinite {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        /* --- Services / Hire Me Section --- */
        /* --- VIDEO-ISH: Animated Gradient --- */
        .services-section {
            background: linear-gradient(-45deg, #f9f8f4, #e2e8f0, #f9f8f4, #cbd5e1);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: var(--text-dark);
            text-align: center;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto 4rem;
            text-align: left;
        }

        .service-card {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            transition: 0.3s;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(197, 160, 89, 0.15);
            border-color: var(--primary-gold);
        }

        .service-icon {
            font-size: 2.5rem;
            color: var(--primary-gold);
            margin-bottom: 1.5rem;
        }

        .service-card h3 {
            margin-bottom: 1rem;
            color: var(--primary-dark);
        }

        .hire-cta {
            background: var(--primary-dark);
            color: white;
            padding: 3rem;
            border-radius: 15px;
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .hire-cta::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(197, 160, 89, 0.1));
            pointer-events: none;
        }

        .hire-btn {
            display: inline-block;
            background: var(--primary-gold);
            color: var(--primary-dark);
            padding: 12px 30px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-radius: 5px;
            margin-top: 1.5rem;
            transition: 0.3s;
        }

        .hire-btn:hover {
            background: white;
            color: var(--primary-dark);
            transform: scale(1.05);
        }

        .preview-btn {
            display: inline-block;
            padding: 10px 20px;
            background: transparent;
            border: 1px solid var(--primary-gold);
            color: var(--primary-gold);
            cursor: pointer;
            transition: 0.3s;
            font-family: 'Montserrat', sans-serif;
            text-transform: uppercase;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .preview-btn:hover {
            background: var(--primary-gold);
            color: #0f172a;
        }

        /* --- TESTIMONIALS SECTION --- */
        .testimonials-section {
            background-color: var(--primary-dark);
            position: relative;
            overflow: hidden; /* For background decorations */
            padding-bottom: 6rem;
        }
        
        .testimonial-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .testimonial-card {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(197, 160, 89, 0.2);
            padding: 2.5rem;
            border-radius: 15px;
            position: relative;
            transition: 0.3s;
            backdrop-filter: blur(5px);
        }

        .testimonial-card:hover {
            transform: translateY(-10px);
            border-color: var(--primary-gold);
            background: rgba(255, 255, 255, 0.05);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .quote-icon-bg {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 4rem;
            color: rgba(197, 160, 89, 0.1);
            font-family: 'Playfair Display', serif;
            line-height: 1;
        }

        .client-quote {
            font-style: italic;
            color: #ccc;
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 1;
            font-size: 1.05rem;
        }

        .client-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .client-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary-gold);
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--primary-dark);
            font-weight: bold;
            font-size: 1.2rem;
        }

        .client-details h4 {
            color: var(--primary-gold);
            font-size: 1rem;
            margin: 0;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
        }

        .client-details span {
            font-size: 0.8rem;
            color: #888;
        }

        /* --- FAQ SECTION (NEW) --- */
        .faq-section {
            background-color: #0b1120; /* Slightly darker to separate sections */
            color: var(--text-light);
            padding-bottom: 6rem;
        }

        .faq-container {
            max-width: 800px;
            margin: 3rem auto 0;
        }

        .faq-item {
            margin-bottom: 1rem;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(197, 160, 89, 0.1);
            border-radius: 8px;
            overflow: hidden;
            transition: 0.3s;
        }

        .faq-item:hover {
            border-color: rgba(197, 160, 89, 0.4);
            background: rgba(255, 255, 255, 0.04);
        }

        .faq-question {
            width: 100%;
            text-align: left;
            padding: 20px 25px;
            background: none;
            border: none;
            color: #e2e8f0;
            font-family: 'Montserrat', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: 0.3s;
            outline: none;
        }

        .faq-question:hover {
            color: var(--primary-gold);
        }

        .faq-question.active {
            color: var(--primary-gold);
            background: rgba(197, 160, 89, 0.05);
        }

        .faq-icon {
            font-size: 0.9rem;
            transition: transform 0.3s ease;
            color: var(--primary-gold);
        }

        .faq-question.active .faq-icon {
            transform: rotate(45deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s cubic-bezier(0, 1, 0, 1);
        }

        .faq-answer-content {
            padding: 0 25px 25px 25px;
            color: #94a3b8;
            font-size: 0.95rem;
            line-height: 1.7;
        }

        .live-preview-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 2000;
            display: none;
            flex-direction: column;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .modal-header {
            background: #000;
            padding: 15px 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #333;
        }

        .modal-title {
            color: white;
            font-family: 'Cinzel', serif;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
        }

        .modal-close, .modal-external {
            color: white;
            background: none;
            border: 1px solid #444;
            padding: 5px 15px;
            cursor: pointer;
            transition: 0.2s;
        }

        .modal-close:hover { background: #b91c1c; border-color: #b91c1c; }
        .modal-external:hover { background: var(--accent-blue); border-color: var(--accent-blue); }

        .iframe-container {
            flex-grow: 1;
            width: 100%;
            background: #fff;
            position: relative;
        }
        
        .iframe-loader {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #333;
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
            position: relative;
            z-index: 2;
        }

        /* --- Footer --- */
        footer {
            background: #050911;
            padding: 4rem 10%;
            text-align: center;
            border-top: 1px solid rgba(255,255,255,0.05);
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .social-links a {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
            color: white;
            transition: 0.3s;
        }

        /* Generic Hover (removed background color change so specifics can take over) */
        .social-links a:hover {
            transform: translateY(-5px);
        }

        /* Specific Social Media Brand Colors */

        /* Facebook Blue */
        .social-links a.social-fb:hover {
            background: #1877F2;
            color: white;
        }

        /* Twitter Blue */
        .social-links a.social-tw:hover {
            background: #1DA1F2;
            color: white;
        }

        /* WhatsApp Green */
        .social-links a.social-wa:hover {
            background: #25D366;
            color: white;
        }

        /* GitHub Traditional Black */
        .social-links a.social-gh:hover {
            background: #181717; /* Official GitHub dark */
            color: white;
            border: 1px solid #333; /* Slight border to standout against dark footer */
        }

        /* Gmail Red */
        .social-links a.social-em:hover {
            background: #EA4335;
            color: white;
        }

        /* --- Animations --- */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Staggered Animation Delays */
        .portfolio-grid .project-card.visible:nth-child(1) { transition-delay: 0ms; }
        .portfolio-grid .project-card.visible:nth-child(2) { transition-delay: 200ms; }
        .portfolio-grid .project-card.visible:nth-child(3) { transition-delay: 400ms; }
        
        .press-grid .press-item.visible:nth-child(1) { transition-delay: 0ms; }
        .press-grid .press-item.visible:nth-child(2) { transition-delay: 150ms; }
        .press-grid .press-item.visible:nth-child(3) { transition-delay: 300ms; }
        .press-grid .press-item.visible:nth-child(4) { transition-delay: 450ms; }
        
        .testimonial-grid .testimonial-card.visible:nth-child(1) { transition-delay: 0ms; }
        .testimonial-grid .testimonial-card.visible:nth-child(2) { transition-delay: 200ms; }
        .testimonial-grid .testimonial-card.visible:nth-child(3) { transition-delay: 400ms; }

        .faq-container .faq-item.visible:nth-child(1) { transition-delay: 0ms; }
        .faq-container .faq-item.visible:nth-child(2) { transition-delay: 100ms; }
        .faq-container .faq-item.visible:nth-child(3) { transition-delay: 200ms; }
        .faq-container .faq-item.visible:nth-child(4) { transition-delay: 300ms; }

        /* --- Mobile Responsive --- */
        @media (max-width: 768px) {
            * { cursor: auto; } /* Reset cursor for touch devices */
            .cursor-dot, .cursor-outline { display: none; } /* Hide custom cursor */

            .hero {
                flex-direction: column;
            }
            
            .hero-side:hover {
                flex: 1;
            }
            
            /* --- Fix for Author Section Text on Mobile --- */
            .author-section {
                background-attachment: scroll; /* Disable fixed background on mobile */
                background-position: center;
                /* Ensure image covers but doesnt break layout */
                background-size: cover; 
            }

            .book-showcase {
                flex-direction: column;
                text-align: center;
                gap: 2rem; /* Reduced gap */
            }
            
            /* Adjust 3D container size for mobile to prevent overflow/stacking issues */
            .book-3d-container {
                width: 100%;
                max-width: 250px; /* Smaller book on mobile */
                height: 375px; /* Proportional height */
                margin: 0 auto;
            }

            .book-quote {
                border-left: none;
                border-top: 3px solid var(--primary-gold);
                padding-top: 20px;
            }

            .about-grid {
                grid-template-columns: 1fr;
            }

            .nav-links {
                display: none; /* Hide for now on mobile, simplistic */
            }
            
            .hamburger {
                display: block;
                color: var(--primary-gold);
            }
            
            .about-img img {
                max-width: 100%;
            }

            .portfolio-grid {
                grid-template-columns: 1fr;
            }

            .services-grid {
                grid-template-columns: 1fr;
            }
            
            /* Disable fancy hover effects on touch devices for usability */
            .hero:hover .hero-side:not(:hover) {
                filter: none;
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <!-- Preloader -->
    <div id="preloader" class="preloader">
        <video autoplay muted loop playsinline class="preloader-video">
            <source src="https://assets.mixkit.co/videos/preview/mixkit-abstract-technology-white-particles-in-darkness-2292-large.mp4" type="video/mp4">
        </video>
        <div class="loader-content">
            <div id="loader-text" class="loader-text cipher-text" data-value="LOADING...">LOADING...</div>
        </div>
    </div>

    <!-- Custom Cursor Elements -->
    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>

    <!-- Reading Progress Bar -->
    <div id="scrollProgress" class="scroll-progress"></div>

    <!-- AI Chat Widget -->
    <button id="chatLaunchBtn" class="chat-widget-btn magnetic">
        <span class="sparkle">✨</span>
    </button>

    <div id="chatWindow" class="chat-window">
        <div class="chat-header">
            <h4>Chat with Wisdom AI ✨</h4>
            <i class="fas fa-times" id="closeChatBtn" style="cursor: pointer; color: #888;"></i>
        </div>
        <div id="chatMessages" class="chat-messages">
            <!-- Initial Greeting -->
            <div class="message bot">
                Hello. I am the digital echo of Wisdom Ncube. Ask me about my poetry, my code, or the philosophy that binds them.
            </div>
        </div>
        <div class="chat-input-area">
            <input type="text" id="chatInput" class="chat-input" placeholder="Ask something..." onkeypress="handleKeyPress(event)">
            <button class="chat-send" onclick="sendMessage()">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
        <div id="typingIndicator" class="typing-indicator" style="padding: 0 15px 10px;">Wisdom AI is thinking...</div>
    </div>

    <!-- Generic AI Tool Modal -->
    <div id="modalOverlay" class="modal-overlay"></div>
    <div id="aiToolModal" class="ai-tool-modal">
        <div class="ai-tool-header">
            <h3 id="aiToolTitle">AI Tool</h3>
            <i class="fas fa-times" onclick="closeAITool()" style="cursor:pointer;"></i>
        </div>
        <div style="position: relative;">
            <input type="text" id="aiToolInput" class="ai-tool-input" placeholder="Enter a topic...">
        </div>
        <button id="aiGenerateBtn" class="ai-generate-btn" onclick="generateAIContent()">
            <span>Generate</span> <i class="fas fa-magic"></i>
        </button>
        <div id="aiToolResult" class="ai-tool-result"></div>
    </div>

    <!-- Back to Top Button -->
    <a href="#" id="backToTop" class="back-to-top">
        <i class="fas fa-arrow-up"></i>
    </a>

    <!-- Particle Background Canvas -->
    <canvas id="particle-canvas"></canvas>

    <!-- Navigation -->
    <nav>
        <div class="logo cipher-text" data-value="WISDOM NCUBE">WISDOM NCUBE</div>
        <div class="nav-links">
            <a href="#hero" class="active magnetic">Home</a>
            <a href="#about" class="magnetic">About</a>
            <a href="#author" class="magnetic">Author</a>
            <a href="#press" class="magnetic">Press</a>
            <a href="#developer" class="magnetic">Portfolio</a>
            <a href="#services" class="magnetic">Services</a>
            <a href="#testimonials" class="magnetic">Testimonials</a>
            <a href="#faq" class="magnetic">FAQ</a>
            <a href="#contact" class="magnetic">Contact</a>
        </div>
        <div class="hamburger">
            <i class="fas fa-bars"></i>
        </div>
    </nav>

    <!-- Hero Section -->
    <div id="hero" class="hero section-scroll" data-link="Home">
        <div class="scanlines"></div> <!-- NEW SCANLINES -->
        <a href="#developer" class="hero-side hero-left">
            <div class="hero-content">
                <h1 class="hero-title">Developer</h1>
                <!-- Added ID for typewriter -->
                <p id="typewriter-dev" class="hero-subtitle" data-text="Logic & Code"></p>
            </div>
        </a>
        <a href="#author" class="hero-side hero-right">
            <div class="hero-content">
                <h1 class="hero-title">Author</h1>
                <!-- Added ID for typewriter -->
                <p id="typewriter-auth" class="hero-subtitle" data-text="Narrative & Soul"></p>
            </div>
        </a>
    </div>

    <!-- About Section -->
    <section id="about" class="section about section-scroll" data-link="About">
        <h2 class="section-title fade-in">The Man Behind The Words</h2>
        <div class="about-grid">
            <div class="about-img fade-in">
                <!-- Added parallax class -->
                <img src="480903583_2699849513540519_4914219044402982331_n.jpg" alt="Wisdom Ncube Portrait" class="parallax-element" data-speed="0.05">
            </div>
            <div class="about-text fade-in">
                <p class="poetry-text" style="font-size: 1.2rem; color: #555; margin-bottom: 20px;">
                    "To write code is to instruct the mind. To write poetry is to instruct the soul."
                </p>
                <p style="margin-bottom: 1rem;">
                    Wisdom Ncube is a multi-talented creative hailing from Bulawayo, Zimbabwe. He embodies a rare duality: a sharp technical mind capable of architecting complex web solutions, and a sensitive soul that captures the nuance of the human experience through poetry.
                </p>
                <p>
                    Former Editor of Cloutbase magazine and a voice for the silenced, Wisdom’s journey has taken him from the logic of programming to the stages of international literary recognition. Whether he is building digital infrastructures or weaving stanzas about love and sacrifice, his goal remains the same: to create something lasting and meaningful.
                </p>
            </div>
        </div>
    </section>

    <!-- Author Section (The Masterpiece) -->
    <section id="author" class="section author-section section-scroll" data-link="Author">
        <div style="text-align: center;">
            <div class="award-badge fade-in">
                <i class="fas fa-trophy"></i>
                <span>2022 AfriCAN Honoree Authors' Award Winner</span>
            </div>
            <h2 class="section-title light fade-in">Words of Wisdom</h2>
        </div>

        <div class="book-showcase">
            <div class="book-3d-container fade-in">
                <!-- Book Cover with parallax -->
                <img src="476448718_2683561178502686_8594790215747721482_n.jpg" alt="Words of Wisdom Book Cover" class="book-cover parallax-element" data-speed="0.08">
            </div>
            
            <div class="book-details fade-in">
                <h3>Poetry Collection Vol. 1</h3>
                <p class="book-quote">
                    "A multi-faceted expression of raw poetry in simplicity that takes the reader through a roller coaster of emotions."
                </p>
                <p style="margin-bottom: 20px; opacity: 0.9;">
                    This award-winning anthology explores the profound topics of love, sacrifice, religion, and the often-silenced voices of the girl child. Awarded the prestigious <strong>AfriCAN Honoree Authors' Award</strong> in South Africa (July 2022), this collection established Wisdom Ncube as a significant literary voice in Zimbabwe and beyond.
                </p>
                
                <div style="margin-top: 30px; display: flex; flex-direction: column; align-items: flex-start; gap: 20px;">
                    <div style="display: flex; align-items: center; gap: 20px;">
                        <!-- Award Image small thumbnail -->
                        <img src="481295657_2708592912666179_6215757589555293357_n.jpg" alt="The Award" style="width: 100px; border-radius: 5px; border: 1px solid var(--primary-gold);">
                        <div>
                            <h4 style="color: var(--primary-gold);">Awarded Excellence</h4>
                            <small>Recognized for contribution to African Literature</small>
                        </div>
                    </div>
                    <!-- AI FEATURE: POEM GENERATOR -->
                    <button class="ai-feature-btn" onclick="openAITool('poem')">
                        <i class="fas fa-feather-alt"></i> Ask the Muse ✨
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Press Section (Moved Here) -->
    <section id="press" class="section press-section section-scroll" data-link="Press">
        <div style="text-align: center;">
            <h2 class="section-title fade-in">In The Press</h2>
            <p class="fade-in" style="margin-top: 10px; color: #666;">Documenting the journey from Bulawayo to the World.</p>
        </div>

        <div class="press-grid">
            <!-- News Article 1 -->
            <div class="press-item fade-in">
                <img src="480962028_2702215599970577_4291725976441402062_n.jpg" alt="AllAfrica Article">
                <div class="press-overlay">
                    <h4>AllAfrica / New Zimbabwe</h4>
                    <p>"Zimbabwean Author Gets African Recognition"</p>
                </div>
            </div>
            <!-- News Article 2 -->
            <div class="press-item fade-in">
                <img src="480799281_2702206123304858_4362177325754504039_n.jpg" alt="NewsDay Article">
                <div class="press-overlay">
                    <h4>NewsDay Life & Style</h4>
                    <p>"Byo poet's anthology nominated for international award"</p>
                </div>
            </div>
            <!-- News Article 3 -->
            <div class="press-item fade-in">
                <img src="480778372_2702211509970986_3405744343297033689_n.jpg" alt="Newspaper Spread">
                <div class="press-overlay">
                    <h4>Print Feature</h4>
                    <p>Featured alongside Zimbabwe's creative giants.</p>
                </div>
            </div>
            <!-- Extra Photo -->
            <div class="press-item fade-in">
                <img src="488207155_2742266812632122_6248440323943516653_n.jpg" alt="Wisdom at work">
                <div class="press-overlay">
                    <h4>The Developer</h4>
                    <p>Powering future tech.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Developer Section (Updated to Portfolio) -->
    <section id="developer" class="section developer-section section-scroll" data-link="Portfolio">
        <div style="text-align: center; margin-bottom: 3rem;">
            <h2 class="section-title light fade-in cipher-text" data-value="Web Portfolio">Web Portfolio</h2>
            <p class="tech-subtitle fade-in">Digital Solutions Engineered for Performance</p>
        </div>

        <div class="portfolio-grid">
            
            <!-- Project 1: Blue Currant -->
            <div class="project-card fade-in">
                <div class="card-header">
                    <div class="browser-dot dot-red"></div>
                    <div class="browser-dot dot-yellow"></div>
                    <div class="browser-dot dot-green"></div>
                    <div class="card-address-bar"></div>
                </div>
                <div class="card-body">
                    <h3 class="card-title">Blue Currant Care Agency</h3>
                    <div class="tech-stack-mini">
                        <i class="fas fa-server"></i>
                        <span>Corporate Business</span>
                    </div>
                    <p class="card-desc">
                        A compassionate and professional digital presence designed for a care agency. The platform features accessible service listings, recruitment portals, and a clean user interface built to establish trust and reliability in the healthcare sector.
                    </p>
                    <button class="preview-btn" onclick="openModal('https://bluecurrantcareagency.co.uk', 'Blue Currant Care Agency')">
                        <i class="fas fa-eye"></i> View Live Site
                    </button>
                </div>
            </div>

            <!-- Project 2: TM Branding -->
            <div class="project-card fade-in">
                <div class="card-header">
                    <div class="browser-dot dot-red"></div>
                    <div class="browser-dot dot-yellow"></div>
                    <div class="browser-dot dot-green"></div>
                    <div class="card-address-bar"></div>
                </div>
                <div class="card-body">
                    <h3 class="card-title">TM Branding Solutions</h3>
                    <div class="tech-stack-mini">
                        <i class="fas fa-paint-brush"></i>
                        <span>Creative Portfolio</span>
                    </div>
                    <p class="card-desc">
                        A dynamic portfolio and service showcase for a modern branding agency. Built for performance and visual impact, this project highlights creative works with fluid responsiveness and a modern aesthetic suitable for a design-led business.
                    </p>
                    <button class="preview-btn" onclick="openModal('https://tmbrandingsolutions.vercel.app/', 'TM Branding Solutions')">
                        <i class="fas fa-eye"></i> View Live Site
                    </button>
                </div>
            </div>

            <!-- Project 3: Wave Studios -->
            <div class="project-card fade-in">
                <div class="card-header">
                    <div class="browser-dot dot-red"></div>
                    <div class="browser-dot dot-yellow"></div>
                    <div class="browser-dot dot-green"></div>
                    <div class="card-address-bar"></div>
                </div>
                <div class="card-body">
                    <h3 class="card-title">Wave Studios</h3>
                    <div class="tech-stack-mini">
                        <i class="fas fa-camera"></i>
                        <span>Photography & Media</span>
                    </div>
                    <p class="card-desc">
                        A stunning portfolio website for Wave Studios Media, a South African production powerhouse. The site features galleries for corporate, lifestyle, and event photography, showcasing their mission to redefine storytelling through exceptional visuals and creative media solutions.
                    </p>
                    <button class="preview-btn" onclick="openModal('https://wave-2-mocha.vercel.app/', 'Wave Studios')">
                        <i class="fas fa-eye"></i> View Live Site
                    </button>
                </div>
            </div>

        </div>

        <!-- Infinite Tech Scroller -->
        <div class="tech-scroller fade-in">
            <div class="tech-track">
                <!-- Original Set -->
                <i class="fab fa-html5 tech-icon-item" title="HTML5"></i>
                <i class="fab fa-css3-alt tech-icon-item" title="CSS3"></i>
                <i class="fab fa-js tech-icon-item" title="JavaScript"></i>
                <i class="fab fa-react tech-icon-item" title="React"></i>
                <i class="fas fa-database tech-icon-item" title="Backend"></i>
                <i class="fab fa-git-alt tech-icon-item" title="Git"></i>
                <i class="fab fa-node tech-icon-item" title="Node.js"></i>
                <i class="fab fa-sass tech-icon-item" title="Sass"></i>
                
                <!-- Duplicate Set for Seamless Loop -->
                <i class="fab fa-html5 tech-icon-item" title="HTML5"></i>
                <i class="fab fa-css3-alt tech-icon-item" title="CSS3"></i>
                <i class="fab fa-js tech-icon-item" title="JavaScript"></i>
                <i class="fab fa-react tech-icon-item" title="React"></i>
                <i class="fas fa-database tech-icon-item" title="Backend"></i>
                <i class="fab fa-git-alt tech-icon-item" title="Git"></i>
                <i class="fab fa-node tech-icon-item" title="Node.js"></i>
                <i class="fab fa-sass tech-icon-item" title="Sass"></i>
            </div>
        </div>
    </section>

    <!-- Services / Hire Me Section -->
    <section id="services" class="section services-section section-scroll" data-link="Services">
        <div style="text-align: center; margin-bottom: 3rem;">
            <h2 class="section-title fade-in">Services & Collaboration</h2>
            <p class="tech-subtitle fade-in" style="color: #666; margin-bottom: 3rem;">Turn your ideas into reality with professional web development.</p>
        </div>

        <div class="services-grid">
            <!-- Service 1 -->
            <div class="service-card fade-in">
                <i class="fas fa-code service-icon"></i>
                <h3>Web Development</h3>
                <p>Custom websites and web applications built with modern technologies like React, Node.js, and Tailwind CSS. Fast, responsive, and SEO-friendly.</p>
            </div>
            <!-- Service 2 -->
            <div class="service-card fade-in">
                <i class="fas fa-laptop-code service-icon"></i>
                <h3>UI/UX Implementation</h3>
                <p>Translating designs into pixel-perfect, interactive front-end code. focusing on user experience, accessibility, and smooth animations.</p>
            </div>
            <!-- Service 3 -->
            <div class="service-card fade-in">
                <i class="fas fa-pen-nib service-icon"></i>
                <h3>Technical Writing</h3>
                <p>Clear, concise documentation and technical articles. Bridging the gap between complex code and human understanding.</p>
            </div>
        </div>

        <div class="hire-cta fade-in">
            <h3>Ready to start a project?</h3>
            <p>Let's discuss your requirements and get a custom quote.</p>
            <!-- AI FEATURE: APP IDEA GENERATOR -->
            <button class="ai-feature-btn" onclick="openAITool('idea')" style="background: white; color: var(--primary-dark); margin-right: 10px;">
                <i class="fas fa-lightbulb"></i> Generate App Idea ✨
            </button>
            <a href="mailto:wizzncube@gmail.com" class="hire-btn magnetic">
                <i class="fas fa-paper-plane"></i> Get a Quote
            </a>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="section testimonials-section section-scroll" data-link="Testimonials">
        <div style="text-align: center; margin-bottom: 4rem;">
            <h2 class="section-title light fade-in">Echoes of Collaboration</h2>
            <p class="tech-subtitle fade-in">What others say about working with Wisdom.</p>
        </div>

        <div class="testimonial-grid">
            <!-- Testimonial 1 -->
            <div class="testimonial-card fade-in">
                <div class="quote-icon-bg">"</div>
                <p class="client-quote">
                    Wisdom has an uncanny ability to turn abstract ideas into functional, beautiful code. His attention to detail on the TM Branding portfolio was exceptional, delivering a site that truly reflects our creative vision.
                </p>
                <div class="client-info">
                    <div class="client-avatar">T</div>
                    <div class="client-details">
                        <h4>Tsepiso M.</h4>
                        <span>Director, TM Branding Solutions</span>
                    </div>
                </div>
            </div>

            <!-- Testimonial 2 -->
            <div class="testimonial-card fade-in">
                <div class="quote-icon-bg">"</div>
                <p class="client-quote">
                    Reading 'Words of Wisdom' was a spiritual experience. It is rare to find a developer who understands the human soul as deeply as he understands algorithms. A true creative force.
                </p>
                <div class="client-info">
                    <div class="client-avatar">S</div>
                    <div class="client-details">
                        <h4>Sarah D.</h4>
                        <span>Literary Critic & Reader</span>
                    </div>
                </div>
            </div>

            <!-- Testimonial 3 -->
            <div class="testimonial-card fade-in">
                <div class="quote-icon-bg">"</div>
                <p class="client-quote">
                    Our media portfolio required a sophisticated touch to properly showcase our photography and video work. Wisdom delivered a high-performance site that lets our visuals speak for themselves. Excellent collaboration.
                </p>
                <div class="client-info">
                    <div class="client-avatar">W</div>
                    <div class="client-details">
                        <h4>Director</h4>
                        <span>Wave Studios</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- NEW FAQ SECTION -->
    <section id="faq" class="section faq-section section-scroll" data-link="FAQ">
        <div style="text-align: center;">
            <h2 class="section-title light fade-in">Inquiries & Insights</h2>
            <p class="tech-subtitle fade-in">Common questions regarding my work and process.</p>
        </div>

        <div class="faq-container">
            <!-- Q1 -->
            <div class="faq-item fade-in">
                <button class="faq-question">
                    <span>Are you currently open to freelance projects?</span>
                    <i class="fas fa-plus faq-icon"></i>
                </button>
                <div class="faq-answer">
                    <div class="faq-answer-content">
                        Yes, I am currently accepting new projects. I specialize in building custom portfolios, business websites, and web applications using React, Node.js, and modern CSS frameworks. Please email me directly or use any of contact the buttons at the footer for a quote.
                    </div>
                </div>
            </div>

            <!-- Q2 -->
            <div class="faq-item fade-in">
                <button class="faq-question">
                    <span>Where can I purchase "Words of Wisdom"?</span>
                    <i class="fas fa-plus faq-icon"></i>
                </button>
                <div class="faq-answer">
                    <div class="faq-answer-content">
                        "Words of Wisdom: Poetry Collection Vol. 1" is available through major book retailers. You can order physical copies directly through me if you are in South Africa or Zimbabwe, or contact me for digital distribution links.
                    </div>
                </div>
            </div>

            <!-- Q3 -->
            <div class="faq-item fade-in">
                <button class="faq-question">
                    <span>Do you offer ghostwriting or editing services?</span>
                    <i class="fas fa-plus faq-icon"></i>
                </button>
                <div class="faq-answer">
                    <div class="faq-answer-content">
                        Yes. With my background as an Editor for Cloutbase magazine and a published author, I offer technical writing, creative editing, and ghostwriting services for select projects that align with my creative values.
                    </div>
                </div>
            </div>

            <!-- Q4 -->
            <div class="faq-item fade-in">
                <button class="faq-question">
                    <span>What technology stack do you primarily use?</span>
                    <i class="fas fa-plus faq-icon"></i>
                </button>
                <div class="faq-answer">
                    <div class="faq-answer-content">
                        My primary stack is the MERN stack (MongoDB, Express, React, Node.js). For styling, I frequently use Tailwind CSS or Sass. I also have experience with Next.js for SEO-optimized applications and Firebase for serverless backends.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Live Preview Modal -->
    <div id="previewModal" class="live-preview-modal">
        <div class="modal-header">
            <h3 id="modalTitle" class="modal-title">Live Preview</h3>
            <div class="modal-actions">
                <a id="externalLink" href="#" target="_blank" class="modal-external">
                    <i class="fas fa-external-link-alt"></i> Open in New Tab
                </a>
                <button onclick="closeModal()" class="modal-close">
                    <i class="fas fa-times"></i> Close
                </button>
            </div>
        </div>
        <div class="iframe-container">
            <div class="iframe-loader">Loading Live Site...</div>
            <iframe id="previewFrame" src="" allowfullscreen></iframe>
        </div>
    </div>

    <!-- Footer -->
    <footer id="contact" class="section-scroll" data-link="Contact">
        <h3 style="color: white; font-family: 'Cinzel'; margin-bottom: 1rem;">Wisdom Ncube</h3>
        <p style="color: #888; margin-bottom: 2rem;">Zimbabwe, South Africa, Honduras</p>
        
        <div class="social-links">
            <a href="https://www.facebook.com/whizzncube/" target="_blank" aria-label="Facebook" class="social-fb">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://x.com/wizzncube" target="_blank" aria-label="Twitter" class="social-tw">
                <i class="fab fa-twitter"></i>
            </a>
                </a>
            <a href="https://wa.me/27747112673" target="_blank" aria-label="Twitter" class="social-wa">
                <i class="fab fa-whatsapp"></i>
            </a>
            <a href="https://github.com/wisdomncube" target="_blank" aria-label="GitHub" class="social-gh">
                <i class="fab fa-github"></i>
            </a>
            <a href="mailto:wizzncube@gmail.com" aria-label="Email" class="social-em">
                <i class="fas fa-envelope"></i>
            </a>
        </div>
        
        <p style="color: #444; font-size: 0.8rem;">&copy; 2025 Wisdom Ncube. All Rights Reserved.</p>
    </footer>

    <script>
        // --- GEMINI API INTEGRATION ---
        const apiKey = ""; // API key will be injected by environment

        // Chat Widget Toggle Logic
        const chatLaunchBtn = document.getElementById('chatLaunchBtn');
        const chatWindow = document.getElementById('chatWindow');
        const closeChatBtn = document.getElementById('closeChatBtn');
        const chatInput = document.getElementById('chatInput');
        const chatMessages = document.getElementById('chatMessages');
        const typingIndicator = document.getElementById('typingIndicator');

        chatLaunchBtn.addEventListener('click', () => {
            chatWindow.classList.toggle('open');
            if (chatWindow.classList.contains('open')) {
                chatInput.focus();
            }
        });

        closeChatBtn.addEventListener('click', () => {
            chatWindow.classList.remove('open');
        });

        function handleKeyPress(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        }

        async function sendMessage() {
            const userMessage = chatInput.value.trim();
            if (!userMessage) return;

            // Add user message to UI
            addMessageToChat(userMessage, 'user');
            chatInput.value = '';
            
            // Show typing indicator
            typingIndicator.style.display = 'block';
            chatMessages.scrollTop = chatMessages.scrollHeight;

            try {
                // Call Gemini API
                const response = await callGeminiAPI(userMessage);
                
                // Hide typing indicator
                typingIndicator.style.display = 'none';
                
                // Add bot response to UI
                addMessageToChat(response, 'bot');
            } catch (error) {
                console.error("Error calling Gemini:", error);
                typingIndicator.style.display = 'none';
                addMessageToChat("My digital connection is flickering. Please try again in a moment.", 'bot');
            }
        }

        function addMessageToChat(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', sender);
            messageDiv.innerText = text;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // --- NEW AI TOOLS LOGIC ---
        const aiToolModal = document.getElementById('aiToolModal');
        const modalOverlay = document.getElementById('modalOverlay');
        const aiToolTitle = document.getElementById('aiToolTitle');
        const aiToolInput = document.getElementById('aiToolInput');
        const aiToolResult = document.getElementById('aiToolResult');
        const aiGenerateBtn = document.getElementById('aiGenerateBtn');
        let currentToolType = '';

        function openAITool(type) {
            currentToolType = type;
            aiToolResult.innerHTML = '';
            aiToolResult.classList.remove('active');
            aiToolInput.value = '';
            
            if (type === 'poem') {
                aiToolTitle.innerText = "The Muse ✨";
                aiToolInput.placeholder = "Enter a theme (e.g., Silence, Rain, Code)...";
                aiGenerateBtn.innerHTML = `<span>Compose Poem</span> <i class="fas fa-feather-alt"></i>`;
            } else if (type === 'idea') {
                aiToolTitle.innerText = "The Architect ✨";
                aiToolInput.placeholder = "Enter an industry (e.g., Healthcare, Education)...";
                aiGenerateBtn.innerHTML = `<span>Generate Concept</span> <i class="fas fa-lightbulb"></i>`;
            }
            
            modalOverlay.classList.add('active');
            aiToolModal.classList.add('active');
            setTimeout(() => aiToolInput.focus(), 300);
        }

        function closeAITool() {
            modalOverlay.classList.remove('active');
            aiToolModal.classList.remove('active');
        }

        modalOverlay.addEventListener('click', closeAITool);

        async function generateAIContent() {
            const topic = aiToolInput.value.trim();
            if (!topic) return;

            aiGenerateBtn.disabled = true;
            aiGenerateBtn.innerHTML = `<span>Dreaming...</span> <i class="fas fa-spinner fa-spin"></i>`;
            aiToolResult.innerHTML = '';
            aiToolResult.classList.add('active');

            let prompt = "";
            let systemPrompt = "";

            if (currentToolType === 'poem') {
                prompt = `Write a short, deep poem about "${topic}".`;
                systemPrompt = "You are a poetic AI muse inspired by Wisdom Ncube. Write short, impactful free-verse poetry. Focus on raw emotion, duality, and the human condition. Keep it under 10 lines.";
            } else if (currentToolType === 'idea') {
                prompt = `Suggest a unique web app idea for the "${topic}" industry.`;
                systemPrompt = "You are a tech visionary AI. Suggest a concise, innovative web app idea using a modern tech stack (React, Node, AI). Format: 'App Name: [Name] \n Concept: [One sentence] \n Key Feature: [Feature]'.";
            }

            try {
                const response = await callGeminiAPI(prompt, systemPrompt);
                typeWriterEffect(aiToolResult, response);
            } catch (error) {
                aiToolResult.innerText = "The muse is silent right now. Please try again.";
            } finally {
                aiGenerateBtn.disabled = false;
                if (currentToolType === 'poem') {
                    aiGenerateBtn.innerHTML = `<span>Compose Poem</span> <i class="fas fa-feather-alt"></i>`;
                } else {
                    aiGenerateBtn.innerHTML = `<span>Generate Concept</span> <i class="fas fa-lightbulb"></i>`;
                }
            }
        }

        function typeWriterEffect(element, text, speed = 30) {
            element.innerHTML = '';
            let i = 0;
            function type() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                }
            }
            type();
        }

        // --- SHARED API CALL FUNCTION ---
        async function callGeminiAPI(userPrompt, systemPrompt) {
            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
            
            // If specific system prompt is not passed (like for general chat), use default
            if (!systemPrompt) {
                systemPrompt = "You are the AI persona of Wisdom Ncube, a Developer and Author from Bulawayo, Zimbabwe. You embody a duality: logic/code and narrative/soul. You wrote 'Words of Wisdom: Poetry Collection Vol. 1', which explores love, sacrifice, religion, and the voice of the girl child. Your coding stack includes React, Node.js, and Tailwind. Answer questions about Wisdom's work, philosophy, or generate poems in his style. Keep responses concise, elegant, and somewhat poetic where appropriate.";
            }

            const payload = {
                contents: [{
                    parts: [{ text: userPrompt }]
                }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                }
            };

            const maxRetries = 3;
            let attempt = 0;
            
            while (attempt < maxRetries) {
                try {
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const data = await response.json();
                    return data.candidates?.[0]?.content?.parts?.[0]?.text || "I have no words for that at the moment.";
                } catch (e) {
                    attempt++;
                    if (attempt >= maxRetries) throw e;
                    await new Promise(r => setTimeout(r, 1000 * Math.pow(2, attempt)));
                }
            }
        }


        // --- 0. Custom Cursor Logic ---
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorOutline = document.querySelector('.cursor-outline');
        
        // Mouse Move Listener
        window.addEventListener('mousemove', function(e) {
            const posX = e.clientX;
            const posY = e.clientY;

            // Dot follows immediately
            cursorDot.style.left = `${posX}px`;
            cursorDot.style.top = `${posY}px`;

            // Outline follows with slight delay (animation built into css transition)
            cursorOutline.style.left = `${posX}px`;
            cursorOutline.style.top = `${posY}px`;
            
            // Interaction Check (for expansion)
            // Use elementsFromPoint to check if we are hovering over interactive stuff
            // Simplified: Add listeners to specific elements
        });

        // Add hover effect to interactive elements
        // ADDED: .faq-question
        const interactiveElements = document.querySelectorAll('a, button, .project-card, .service-card, .press-item, .hero-side, .chat-widget-btn, .ai-feature-btn, .testimonial-card, .faq-question');
        
        interactiveElements.forEach(el => {
            el.addEventListener('mouseenter', () => {
                document.body.classList.add('hovering');
            });
            el.addEventListener('mouseleave', () => {
                document.body.classList.remove('hovering');
            });
        });


        // --- 1. Reading Progress Bar Logic ---
        window.addEventListener('scroll', () => {
            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (scrollTop / scrollHeight) * 100;
            document.getElementById('scrollProgress').style.width = scrolled + '%';
            
            // --- Back to Top Visibility ---
            const backToTopBtn = document.getElementById('backToTop');
            if (scrollTop > window.innerHeight) {
                backToTopBtn.classList.add('visible');
            } else {
                backToTopBtn.classList.remove('visible');
            }
        });

        // --- 2. Typewriter Effect Logic ---
        const typeWriter = (elementId, speed = 100) => {
            const element = document.getElementById(elementId);
            if (!element) return;
            const text = element.getAttribute('data-text');
            element.innerHTML = ''; // Clear text
            element.classList.add('typewriter-cursor'); // Add blinking cursor
            
            let i = 0;
            function type() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                } else {
                    // Optional: Remove cursor after typing
                    // element.classList.remove('typewriter-cursor');
                }
            }
            type();
        };

        // --- 3. 3D Card Tilt Logic ---
        const cards = document.querySelectorAll('.project-card');
        cards.forEach(card => {
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                // Calculate center
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                
                // Calculate rotation (max 10deg)
                const rotateX = ((y - centerY) / centerY) * -5;
                const rotateY = ((x - centerX) / centerX) * 5;
                
                card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.02)`;
            });

            card.addEventListener('mouseleave', () => {
                card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) scale(1)';
            });
        });

        // --- 4. Cipher / Hacker Text Effect Logic ---
        const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        
        function runCipher(element) {
             let iterations = 0;
            // Store original text in dataset if not already present
            if (!element.dataset.value) element.dataset.value = element.innerText;
            
            const interval = setInterval(() => {
                element.innerText = element.innerText.split("")
                    .map((letter, index) => {
                        if(index < iterations) {
                            return element.dataset.value[index];
                        }
                        return letters[Math.floor(Math.random() * 26)]
                    })
                    .join("");
                
                if(iterations >= element.dataset.value.length) clearInterval(interval);
                iterations += 1 / 3;
            }, 30);
        }

        document.querySelectorAll(".cipher-text").forEach(element => {
            element.onmouseover = event => runCipher(event.target);
        });

        // --- 5. UPDATED Interactive Particle System Logic ---
        const canvas = document.getElementById('particle-canvas');
        const ctx = canvas.getContext('2d');
        let particlesArray;
        let mouse = {
            x: null,
            y: null,
            radius: 150 // Radius for connection
        };

        // Track Mouse
        window.addEventListener('mousemove', (event) => {
            mouse.x = event.x;
            mouse.y = event.y;
        });

        // Set canvas size
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // Handle resize
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            initParticles();
        });

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2 + 0.1; // Small dots
                this.speedX = (Math.random() * 0.5) - 0.25;
                this.speedY = (Math.random() * 0.5) - 0.25;
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                // Bounce off edges
                if (this.x > canvas.width || this.x < 0) this.speedX = -this.speedX;
                if (this.y > canvas.height || this.y < 0) this.speedY = -this.speedY;
            }
            draw() {
                ctx.fillStyle = '#c5a059'; // Gold color
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function initParticles() {
            particlesArray = [];
            // Calculate number of particles based on screen size
            const numberOfParticles = (canvas.height * canvas.width) / 10000; // Increased density slightly
            for (let i = 0; i < numberOfParticles; i++) {
                particlesArray.push(new Particle());
            }
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let i = 0; i < particlesArray.length; i++) {
                particlesArray[i].update();
                particlesArray[i].draw();
                
                // Draw connections between particles
                for (let j = i; j < particlesArray.length; j++) {
                    const dx = particlesArray[i].x - particlesArray[j].x;
                    const dy = particlesArray[i].y - particlesArray[j].y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < 100) {
                        ctx.beginPath();
                        ctx.strokeStyle = `rgba(197, 160, 89, ${1 - distance/100})`; // Fade out line
                        ctx.lineWidth = 0.5;
                        ctx.moveTo(particlesArray[i].x, particlesArray[i].y);
                        ctx.lineTo(particlesArray[j].x, particlesArray[j].y);
                        ctx.stroke();
                    }
                }
                
                // Draw connections to Mouse
                if (mouse.x != null) {
                    const dx = particlesArray[i].x - mouse.x;
                    const dy = particlesArray[i].y - mouse.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < mouse.radius) {
                        ctx.beginPath();
                        ctx.strokeStyle = `rgba(197, 160, 89, ${1 - distance/mouse.radius})`;
                        ctx.lineWidth = 0.8;
                        ctx.moveTo(particlesArray[i].x, particlesArray[i].y);
                        ctx.lineTo(mouse.x, mouse.y);
                        ctx.stroke();
                    }
                }
            }
            requestAnimationFrame(animateParticles);
        }

        // --- NEW FAQ LOGIC ---
        const faqQuestions = document.querySelectorAll('.faq-question');

        faqQuestions.forEach(question => {
            question.addEventListener('click', () => {
                // Toggle active state for button
                question.classList.toggle('active');
                
                // Toggle answer visibility
                const answer = question.nextElementSibling;
                if (question.classList.contains('active')) {
                    answer.style.maxHeight = answer.scrollHeight + "px";
                } else {
                    answer.style.maxHeight = 0;
                }
                
                // Optional: Close other FAQs when one opens (Accordion style)
                faqQuestions.forEach(otherQuestion => {
                    if (otherQuestion !== question && otherQuestion.classList.contains('active')) {
                        otherQuestion.classList.remove('active');
                        otherQuestion.nextElementSibling.style.maxHeight = 0;
                    }
                });
            });
        });


        // Initialize features
        document.addEventListener('DOMContentLoaded', () => {
            // --- 8. Preloader Logic ---
            const preloader = document.getElementById('preloader');
            const loaderText = document.getElementById('loader-text');
            
            // Start cipher on load
            runCipher(loaderText);

            // Hide preloader after delay
            setTimeout(() => {
                preloader.classList.add('hidden');
                
                // Start typewriter AFTER preloader is gone
                setTimeout(() => {
                    typeWriter('typewriter-dev', 100);
                    typeWriter('typewriter-auth', 100);
                }, 500); 
                
            }, 2500); // 2.5s simulated loading time


            // Start particles
            initParticles();
            animateParticles();

            // Original Intersection Observer Logic (Fade In)
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, observerOptions);

            // ADDED: .faq-item
            const fadeElements = document.querySelectorAll('.fade-in, .testimonial-card, .faq-item');
            fadeElements.forEach(el => observer.observe(el));

            // --- 6. Active Nav / Scroll Spy Logic ---
            const sections = document.querySelectorAll('.section-scroll');
            const navLinks = document.querySelectorAll('.nav-links a');

            window.addEventListener('scroll', () => {
                let current = '';
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.clientHeight;
                    // Offset for fixed header
                    if (pageYOffset >= (sectionTop - sectionHeight / 3)) {
                        current = section.getAttribute('data-link');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.textContent.includes(current)) {
                        link.classList.add('active');
                    }
                });
            });

            // --- 9. Parallax Scroll Logic ---
            window.addEventListener('scroll', () => {
                const scrolled = window.pageYOffset;
                const parallaxElements = document.querySelectorAll('.parallax-element');
                
                parallaxElements.forEach(el => {
                    const speed = el.getAttribute('data-speed');
                    // Simple parallax translate
                    el.style.transform = `translateY(${scrolled * speed}px)`;
                });
            });


            // --- 7. Magnetic Button Logic ---
            const magneticButtons = document.querySelectorAll('.magnetic');
            
            magneticButtons.forEach(btn => {
                btn.addEventListener('mousemove', function(e) {
                    const rect = btn.getBoundingClientRect();
                    const x = e.clientX - rect.left - rect.width / 2;
                    const y = e.clientY - rect.top - rect.height / 2;
                    
                    // Intensity of magnetism (lower is stronger)
                    const intensity = 5; 
                    
                    btn.style.transform = `translate(${x/intensity}px, ${y/intensity}px)`;
                });
                
                btn.addEventListener('mouseleave', function() {
                    btn.style.transform = `translate(0px, 0px)`;
                });
            });


            // Mobile Menu Toggle
            const hamburger = document.querySelector('.hamburger');
            const navLinksContainer = document.querySelector('.nav-links');
            const navItems = document.querySelectorAll('.nav-links a'); // Select all links

            hamburger.addEventListener('click', () => {
                if (navLinksContainer.style.display === 'flex') {
                    navLinksContainer.style.display = 'none';
                } else {
                    navLinksContainer.style.display = 'flex';
                    navLinksContainer.style.flexDirection = 'column';
                    navLinksContainer.style.position = 'absolute';
                    navLinksContainer.style.top = '70px';
                    navLinksContainer.style.right = '0';
                    navLinksContainer.style.background = 'rgba(15, 23, 42, 0.95)';
                    navLinksContainer.style.width = '100%';
                    navLinksContainer.style.padding = '20px';
                }
            });

            // Close menu when a link is clicked
            navItems.forEach(item => {
                item.addEventListener('click', () => {
                    if (window.innerWidth <= 768) { // Check if we are in mobile view
                        navLinksContainer.style.display = 'none';
                    }
                });
            });
        });

        // Modal Logic
        const modal = document.getElementById('previewModal');
        const iframe = document.getElementById('previewFrame');
        const modalTitle = document.getElementById('modalTitle');
        const externalLink = document.getElementById('externalLink');

        function openModal(url, title) {
            modal.style.display = 'flex';
            setTimeout(() => {
                modal.style.opacity = '1';
            }, 10);
            
            iframe.src = url;
            modalTitle.textContent = title;
            externalLink.href = url;
            document.body.style.overflow = 'hidden'; 
        }

        function closeModal() {
            modal.style.opacity = '0';
            setTimeout(() => {
                modal.style.display = 'none';
                iframe.src = ''; 
            }, 300);
            document.body.style.overflow = 'auto'; 
        }

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeModal();
            }
        });
    </script>
</body>
</html>
